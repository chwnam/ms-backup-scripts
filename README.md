# 미니서버 백업 스크립트

## 백업 대상

- 워드프레스 사이트
    - 사이트 스냅샷
    - 데이터베이스
- 서버 주요 설정 파일

도쿠위키는 이제 아카이빙됩니다. 최종 백업만 남긴 후 더이상 사용하지 않습니다.

## 백업 주기

- 매주 월요일 오전 4시에 자동 동작하도록 지정합니다.

## 백업 방법

- 워드프레스 파일은 tarball 압축합니다.
- 워드프레스 데이터베이스는 WP-CLI를 이용해 덤프, 압축합니다.
- 주요 설정 파일은 약속된 경로에 복사합니다.
- 백업 사본을 RClone을 이용해 원드라이브에 저장합니다.
- 설정 파일은 리포지터리에 푸쉬합니다.
- 원드라이브에 저장할 워드프레스 백업은 최대 5개까지입니다. 이 이상은 용량이...

## 백업 장소

원드라이브

## 필요한 외부 소프트웨어

- Git: 서버 주요 설정 파일은 [비공개 리포지터리](git@github.com:chwnam/ms-configs.git)에 보관합니다.
- Gzip: 덤프 파일 압축에 사용합니다.
- Mysqldump: 데이터베이스 덤프에 실제로 사용됩니다.
- RClone: 로컬 파일을 백업 장소로 복사하는데 사용합니다.
- Tar: 스냅샷 덤프에 사용합니다.
- WP CLI: 워드프레스 데이터베이스 덤프에 사요앟ㅂ니다.
